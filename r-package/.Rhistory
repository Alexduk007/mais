isntall.packages("cli")
install.packages("cli")
usethis::use_package("cli")
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ol()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: https://t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: https://apoia.se/basedosdados")
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ul()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: https://t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: https://apoia.se/basedosdados")
{
cli::cli_h1("Base dos Dados: Facilitando o acesso a dados no Brasil")
cli::cli_h2("Contatos")
cli::cli_ul()
cli::cli_li("Twitter: @basedosdados")
cli::cli_li("Email: contato@basedosdados.org")
cli::cli_li("Telegram: https://t.me/joinchat/OKWc3RnClXnq2hq-8o0h_w")
cli::cli_li("Apoia.se: https://apoia.se/basedosdados")
}
library(devtools)
library(tidyverse)
library(magrittr)
install.packages("devtools")
library(devtools)
library(tidyverse)
library(magrittr)
load_all()
install.packages("googleAuthR")
load_all()
library(devtools)
library(tidyverse)
library(magrittr)
source("R/python_port.R")
source("R/billing.R")
query_exemplo <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio"
library(dotenv)
install.packages('dotenv')
library(dotenv)
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
source('C:/Users/pedro/Desktop/Cava/mais/rbdd/R/billing.R', echo=TRUE)
set_billing_id(Sys.getenv('project_id'))
query_exemplo <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio"
billing_project_id = get_billing_id()
get_billing_id()
Sys.getenv("billing_project_set")
!Sys.getenv("billing_project_set")
! Sys.getenv("billing_project_set")
Sys.getenv("billing_project_set") == FALSE
!FALSE
source('C:/Users/pedro/Desktop/Cava/mais/rbdd/R/billing.R', echo=TRUE)
billing_project_id = get_billing_id()
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio"
savepath = getwd()
page_size = 1000
bigrquery::bq_project_query(
get_billing_id(),
query = query) %>%
bigrquery::bq_table_download(page_size = page_size, bigint = "integer64")
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
bigrquery::bq_project_query(
billing_project_id,
query = query) %>%
bigrquery::bq_table_download(page_size = page_size, bigint = "integer64")
download(query)
read_sql(query)
source('C:/Users/pedro/Desktop/Cava/mais/rbdd/R/python_port.R', echo=TRUE)
read_sql(query)
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
read_sql(query)
get_billing_id()
use_package("magrittr")
devtools::document()
Sys.getlocale()
Sys.setLocale("LC_ALL","ENG")
library(devtools)
library(tidyverse)
library(magrittr)
library(dotenv)
source("R/python_port.R")
source("R/billing.R")
load_dot_env('keys.env')
set_billing_id(Sys.getenv('project_id'))
query <- "SELECT
pib.id_municipio,
pop.ano,
pib.PIB / pop.populacao * 1000 as pib_per_capita
FROM `basedosdados.br_ibge_pib.municipios` as pib
JOIN `basedosdados.br_ibge_populacao.municipios` as pop
ON pib.id_municipio = pop.id_municipio
LIMIT 5
"
download(query)
read_sql(query)
